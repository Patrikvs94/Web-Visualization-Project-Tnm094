<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Map</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> <!--Twitter css-->
  <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.16/socket.io.min.js"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script> <!-- for pie chart-->
  <script src="static/piescript.js"></script>
  <script src="static/script.js"></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.css' rel='stylesheet'/>
  <link href="static/mapStyle.css" rel="stylesheet"/>
  <link href="static/loader.css" rel="stylesheet"/>

</head>
<body>
  <div id="blurmap">
    <div id="loader" style="display: none;"></div>

    <div id="map"></div>

    <div class='session' id='sliderbar'>
      <h2>Time: <label id='active-minute'>Live</label></h2>
      <input id='slider' class='row' type='range' min='1' max='60' step='1' value='60' />
    </div>

    <!-- Sidebar -->
    <div id="menu"> 
      <h1 onClick="window.location.reload()">Twiz</h1>
      <p>Se tweets live med Twiz. Välj ett trendande ämne nedan för att börja streama tweets. Valt ämne:</p>
      <p id="subText" class="speech"></p>

      <!-- Number of tweets -->
      <div id="subjectInfo">
        <span id="currentTime"></span>
        <span id="nrOfTweets"></span>   
        <div id="piechart"></div>
      </div>

      <p>Trendande ämnen just nu:</p>
      <div id="menu-list"></div>
    
      <!-- The trigger element for the dialog box-->
      <button id="infoButton">?</button>
    </div><!--menu-->
  </div><!--blurmap-->
  


  <!-- The dialog box -->
  <div id="dialog-box" class="dialog-box">

    <!--Info to the dialog box -->
    <div class="dialog-context">
      <span class="close">&times;</span>
      <h3>Twiz</h3>
      <p> Se de senaste trendande ämnena från Twitter. Tweetsen visas live på kartan allteftersom de skapas.</p>

      <p>
        1. Välj ett ämne i panelen till höger.<br>
        2. Tweets från det valda ämnet dyker upp på kartan, live.<br>
        3. Färgerna representerar attityd. <br>

        <!-- Explanation markers-->
        <svg width="20px" height="20px">
          <defs>
            <filter id="blurDot">
              <feGaussianBlur stdDeviation="1.3" />
            </filter>
          </defs>
          <circle class="blurred" cx="10" cy="15" r="5" fill="#53c653" filter = "url(#blurDot)"></circle>
        </svg>
        = positiv <br>

        <svg width="20px" height="20px">
          <defs>
            <filter id="blurDot">
              <feGaussianBlur stdDeviation="1.3" />
            </filter>
          </defs>
          <circle class="blurred" cx="10" cy="15" r="5" fill="#ff3333" filter = "url(#blurDot)"></circle>
        </svg>
        = neagtiv <br>

        <svg width="20px" height="20px">
          <defs>
            <filter id="blurDot">
              <feGaussianBlur stdDeviation="1.5" />
            </filter>
          </defs>
          <circle class="blurred" cx="10" cy="15" r="5" fill="#ffbf80" filter = "url(#blurDot)"></circle>
        </svg>
        = neutral <br><br>

        4. Klicka på en markör för att visa tweetet.<br>
        5. Byt ämne i panelen till höger.
      </p>
    </div><!--dialog-context-->
  </div><!--dialog-box-->

  <script src="static/timeline.js"></script>
  <script src="static/map.js"></script>
  <script src="static/blur.js"></script>
</body>
</html>
